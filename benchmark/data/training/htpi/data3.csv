repo,file,decl,method,n,metric,model,annotation,syntax_search,mathlib_search,examples,improved_context,og_correct,og_errors,og_score,new_correct,new_errors,new_score,delta,og_raw,new_raw,time
htpi,HTPILib/Chap5.lean,"theorem Theorem_5_2_5_2 {A B C : Type} (f : A â†’ B) (g : B â†’ C) :
    onto f â†’ onto g â†’ onto (g âˆ˜ f) ","refinement(best_of_n_n(prompt_flat), prev_data_num=1, keep_best=True)",3,LENGTH,gpt-4o,True,True,True,10,False,True,,13,True,,4,-0.6923076923076923,"theorem Theorem_5_2_5_2 {A B C : Type} (f : A â†’ B) (g : B â†’ C) :
    onto f â†’ onto g â†’ onto (g âˆ˜ f) := by
  assume h1 : onto f
  assume h2 : onto g
  define at h1           --h1 : âˆ€ (y : B), âˆƒ (x : A), f x = y
  define at h2           --h2 : âˆ€ (y : C), âˆƒ (x : B), g x = y
  define                 --Goal : âˆ€ (y : C), âˆƒ (x : A), (g âˆ˜ f) x = y
  fix c : C
  obtain (b : B) (h3 : g b = c) from h2 c
  obtain (a : A) (h4 : f a = b) from h1 b
  apply Exists.intro a   --Goal : (g âˆ˜ f) a = c
  rewrite [comp_def]     --Goal : g (f a) = c
  rewrite [â†h4] at h3
  show g (f a) = c from h3
  done","theorem Theorem_5_2_5_2 {A B C : Type} (f : A â†’ B) (g : B â†’ C) :
    onto f â†’ onto g â†’ onto (g âˆ˜ f)  := by
  intro hf hg c
  obtain âŸ¨b, rflâŸ© := hg c
  obtain âŸ¨a, rflâŸ© := hf b
  exact âŸ¨a, rflâŸ©",115.07999110221863
htpi,HTPILib/Chap5.lean,"theorem Theorem_5_3_3_1 {A B : Type} (f : A â†’ B) (g : B â†’ A)
    (h1 : g âˆ˜ f = id) : one_to_one f ","refinement(best_of_n_n(prompt_flat), prev_data_num=1, keep_best=True)",3,LENGTH,gpt-4o,True,True,True,10,False,True,,13,True,,13,0.0,"theorem Theorem_5_3_3_1 {A B : Type} (f : A â†’ B) (g : B â†’ A)
    (h1 : g âˆ˜ f = id) : one_to_one f := by
  define              --Goal : âˆ€ (x1 x2 : A), f x1 = f x2 â†’ x1 = x2
  fix a1 : A; fix a2 : A
  assume h2 : f a1 = f a2
  show a1 = a2 from
    calc a1
      _ = id a1 := by rfl
      _ = (g âˆ˜ f) a1 := by rw [h1]
      _ = g (f a1) := by rfl
      _ = g (f a2) := by rw [h2]
      _ = (g âˆ˜ f) a2 := by rfl
      _ = id a2 := by rw [h1]
      _ = a2 := by rfl
  done","theorem Theorem_5_3_3_1 {A B : Type} (f : A â†’ B) (g : B â†’ A)
    (h1 : g âˆ˜ f = id) : one_to_one f := by
  define              --Goal : âˆ€ (x1 x2 : A), f x1 = f x2 â†’ x1 = x2
  fix a1 : A; fix a2 : A
  assume h2 : f a1 = f a2
  show a1 = a2 from
    calc a1
      _ = id a1 := by rfl
      _ = (g âˆ˜ f) a1 := by rw [h1]
      _ = g (f a1) := by rfl
      _ = g (f a2) := by rw [h2]
      _ = (g âˆ˜ f) a2 := by rfl
      _ = id a2 := by rw [h1]
      _ = a2 := by rfl
  done",115.80197882652283
htpi,HTPILib/Chap5.lean,"theorem Theorem_5_3_5 {A B : Type} (f : A â†’ B) (g : B â†’ A)
    (h1 : g âˆ˜ f = id) (h2 : f âˆ˜ g = id) : graph g = inv (graph f) ","refinement(best_of_n_n(prompt_flat), prev_data_num=1, keep_best=True)",3,LENGTH,gpt-4o,True,True,True,10,False,True,,13,True,,13,0.0,"theorem Theorem_5_3_5 {A B : Type} (f : A â†’ B) (g : B â†’ A)
    (h1 : g âˆ˜ f = id) (h2 : f âˆ˜ g = id) : graph g = inv (graph f) := by
  have h3 : one_to_one f := Theorem_5_3_3_1 f g h1
  have h4 : onto f := Theorem_5_3_3_2 f g h2
  obtain (g' : B â†’ A) (h5 : graph g' = inv (graph f))
    from Theorem_5_3_1 f h3 h4
  have h6 : g' âˆ˜ f = id := Theorem_5_3_2_1 f g' h5
  have h7 : g = g' :=
    calc g
      _ = id âˆ˜ g := by rfl
      _ = (g' âˆ˜ f) âˆ˜ g := by rw [h6]
      _ = g' âˆ˜ (f âˆ˜ g) := by rfl
      _ = g' âˆ˜ id := by rw [h2]
      _ = g' := by rfl
  rewrite [â†h7] at h5
  show graph g = inv (graph f) from h5
  done","theorem Theorem_5_3_5 {A B : Type} (f : A â†’ B) (g : B â†’ A)
    (h1 : g âˆ˜ f = id) (h2 : f âˆ˜ g = id) : graph g = inv (graph f) := by
  have h3 : one_to_one f := Theorem_5_3_3_1 f g h1
  have h4 : onto f := Theorem_5_3_3_2 f g h2
  obtain (g' : B â†’ A) (h5 : graph g' = inv (graph f))
    from Theorem_5_3_1 f h3 h4
  have h6 : g' âˆ˜ f = id := Theorem_5_3_2_1 f g' h5
  have h7 : g = g' :=
    calc g
      _ = id âˆ˜ g := by rfl
      _ = (g' âˆ˜ f) âˆ˜ g := by rw [h6]
      _ = g' âˆ˜ (f âˆ˜ g) := by rfl
      _ = g' âˆ˜ id := by rw [h2]
      _ = g' := by rfl
  rewrite [â†h7] at h5
  show graph g = inv (graph f) from h5
  done",115.88425183296204
htpi,HTPILib/Chap3.lean,"theorem Like_Example_3_4_1 (U : Type)
    (A B C D : Set U) (h1 : A âŠ† B)
    (h2 : Â¬âˆƒ (c : U), c âˆˆ C âˆ© D) :
    A âˆ© C âŠ† B \ D ","refinement(best_of_n_n(prompt_flat), prev_data_num=1, keep_best=True)",3,LENGTH,gpt-4o,True,True,True,10,False,True,,13,True,,2,-0.8461538461538461,"theorem Like_Example_3_4_1 (U : Type)
    (A B C D : Set U) (h1 : A âŠ† B)
    (h2 : Â¬âˆƒ (c : U), c âˆˆ C âˆ© D) :
    A âˆ© C âŠ† B \ D := by
  define
  fix x : U
  assume h3 : x âˆˆ A âˆ© C
  define at h3; define
  apply And.intro
  Â· -- Proof that x âˆˆ B.
    show x âˆˆ B from h1 h3.left
    done
  Â· -- Proof that x âˆ‰ D.
    contradict h2 with h4
    apply Exists.intro x
    show x âˆˆ C âˆ© D from And.intro h3.right h4
    done
  done","    (A B C D : Set U) (h1 : A âŠ† B)
    (h2 : Â¬âˆƒ (c : U), c âˆˆ C âˆ© D) :
    A âˆ© C âŠ† B \ D  := by
  intro x hx
  exact âŸ¨h1 hx.1, fun h => h2 âŸ¨x, hx.2, hâŸ©âŸ©
",118.31061697006226
htpi,HTPILib/Chap3.lean,"theorem Example_3_3_5 (U : Type) (B : Set U)
    (F : Set (Set U)) : â‹ƒâ‚€ F âŠ† B â†’ F âŠ† ğ’« B ","refinement(best_of_n_n(prompt_flat), prev_data_num=1, keep_best=True)",3,LENGTH,gpt-4o,True,True,True,10,False,True,,13,True,,3,-0.7692307692307693,"theorem Example_3_3_5 (U : Type) (B : Set U)
    (F : Set (Set U)) : â‹ƒâ‚€ F âŠ† B â†’ F âŠ† ğ’« B := by
  assume h1 : â‹ƒâ‚€ F âŠ† B
  define
  fix x : Set U
  assume h2 : x âˆˆ F
  define
  fix y : U
  assume h3 : y âˆˆ x
  define at h1
  apply h1 _
  define
  apply Exists.intro x _
  show x âˆˆ F âˆ§ y âˆˆ x from And.intro h2 h3
  done","example (U : Type) (P Q : Pred U)
    (h1 : âˆ€ (x : U), âˆƒ (y : U), P x â†’ Â¬ Q y)
    (h2 : âˆƒ (x : U), âˆ€ (y : U), P x â†’ Q y) :
    âˆƒ (x : U), Â¬P x  := by
  rcases h2 with âŸ¨a, h3âŸ©
  rcases h1 a with âŸ¨b, h5âŸ©
  apply âŸ¨a, Î» h, h5 h (h3 b h)âŸ©",118.41312098503113
htpi,HTPILib/Chap3.lean,"theorem Example_3_6_2 (U : Type) :
    âˆƒ! (A : Set U), âˆ€ (B : Set U),
    A âˆª B = B ","refinement(best_of_n_n(prompt_flat), prev_data_num=1, keep_best=True)",3,LENGTH,gpt-4o,True,True,True,10,False,True,,13,True,,8,-0.38461538461538464,"theorem Example_3_6_2 (U : Type) :
    âˆƒ! (A : Set U), âˆ€ (B : Set U),
    A âˆª B = B := by
  exists_unique
  Â· -- Existence
    apply Exists.intro âˆ…
    show âˆ€ (B : Set U), âˆ… âˆª B = B from empty_union
    done
  Â· -- Uniqueness
    fix C : Set U; fix D : Set U
    assume h1 : âˆ€ (B : Set U), C âˆª B = B
    assume h2 : âˆ€ (B : Set U), D âˆª B = B
    have h3 : C âˆª D = D := h1 D
    have h4 : D âˆª C = C := h2 C
    show C = D from
      calc C
        _ = D âˆª C := h4.symm
        _ = C âˆª D := union_comm D C
        _ = D := h3
    done
  done","theorem Example_3_6_2 (U : Type) :
    âˆƒ! (A : Set U), âˆ€ (B : Set U),
    A âˆª B = B  := by
  exists_unique
  apply Exists.intro âˆ…
  apply empty_union
  intros C D h1 h2
  have : C âˆª D = D := h1 D
  have : D âˆª C = C := h2 C
  rw [union_comm, â€¹C âˆª D = Dâ€º] at this
  exact this.symm",118.9850401878357
htpi,HTPILib/Chap8Part2.lean,lemma subset_nat_ctble (A : Set Nat) : ctble A ,"refinement(best_of_n_n(prompt_flat), prev_data_num=1, keep_best=True)",3,LENGTH,gpt-4o,True,True,True,10,False,True,,13,True,,6,-0.5384615384615384,"lemma subset_nat_ctble (A : Set Nat) : ctble A := by
  define          --Goal : finite A âˆ¨ denum A
  by_cases h1 : âˆƒ (m : Nat), âˆ€ n âˆˆ A, n < m
  Â· -- Case 1. h1 : âˆƒ (m : Nat), âˆ€ n âˆˆ A, n < m
    apply Or.inl  --Goal : finite A
    obtain (m : Nat) (h2 : âˆ€ n âˆˆ A, n < m) from h1
    obtain (s : Nat) (h3 : num_elts_below A m s) from neb_exists A m
    apply Exists.intro s
    show I s âˆ¼ A from bdd_subset_nat h2 h3
    done
  Â· -- Case 2. h1 : Â¬âˆƒ (m : Nat), âˆ€ n âˆˆ A, n < m
    apply Or.inr  --Goal : denum A
    push_neg at h1
      --This tactic converts h1 to âˆ€ (m : Nat), âˆƒ n âˆˆ A, m â‰¤ n
    show denum A from unbdd_subset_nat h1
    done
  done","lemma subset_nat_ctble (A : Set Nat) : ctble A  := by
  by_cases h1 : âˆƒ m, âˆ€ n âˆˆ A, n < m
  Â· obtain âŸ¨m, hmâŸ© := h1; obtain âŸ¨s, hsâŸ© := neb_exists A m
    exact Or.inl âŸ¨s, bdd_subset_nat hm hsâŸ©
  Â· push_neg at h1
    exact Or.inr (unbdd_subset_nat h1)",157.2818329334259
htpi,HTPILib/Chap8Part2.lean,"theorem Theorem_8_2_4 {U : Type} {A : Set U}
    (h1 : ctble A) : ctble (seq A) ","refinement(best_of_n_n(prompt_flat), prev_data_num=1, keep_best=True)",3,LENGTH,gpt-4o,True,True,True,10,False,True,,13,True,,1,-0.9230769230769231,"theorem Theorem_8_2_4 {U : Type} {A : Set U}
    (h1 : ctble A) : ctble (seq A) := by
  set F : Set (Set (List U)) := sbl_set A
  have h2 : ctble F := Lemma_8_2_4_4 A
  have h3 : âˆ€ S âˆˆ F, ctble S := by
    fix S : Set (List U)
    assume h3 : S âˆˆ F
    define at h3
    obtain (n : Nat) (h4 : seq_by_length A n = S) from h3
    rewrite [â†h4]
    show ctble (seq_by_length A n) from Lemma_8_2_4_2 h1 n
    done
  rewrite [â†Lemma_8_2_4_3 A]
  show ctble (â‹ƒâ‚€ sbl_set A) from Theorem_8_2_2 h2 h3
  done","theorem Theorem_8_2_4 {U : Type} {A : Set U}
    (h1 : ctble A) : ctble (seq A)    := by
  exact Theorem_8_2_2 (Lemma_8_2_4_4 A) (Î» S hS, (Exists.choose hS).symm â–¸ Lemma_8_2_4_2 â€¹ctble Aâ€º _)",229.95382285118103
htpi,HTPILib/Chap8Part2.lean,"lemma csb_cri_of_cri
    {U V : Type} {R S : Rel U V} {X0 : Set U} {x1 x2 : U} {y : V}
    (h1 : csb_match R S X0 x1 y) (h2 : csb_match R S X0 x2 y)
    (h3 : x1 âˆˆ cum_rep_image R S X0) : x2 âˆˆ cum_rep_image R S X0 ","refinement(best_of_n_n(prompt_flat), prev_data_num=1, keep_best=True)",3,LENGTH,gpt-4o,True,True,True,10,False,True,,13,True,,7,-0.46153846153846156,"lemma csb_cri_of_cri
    {U V : Type} {R S : Rel U V} {X0 : Set U} {x1 x2 : U} {y : V}
    (h1 : csb_match R S X0 x1 y) (h2 : csb_match R S X0 x2 y)
    (h3 : x1 âˆˆ cum_rep_image R S X0) : x2 âˆˆ cum_rep_image R S X0 := by
  have h4 : R x1 y := csb_match_cri h1 h3
  by_contra h5
  have h6 : S x2 y := csb_match_not_cri h2 h5
  contradict h5       --Goal : x2 âˆˆ cum_rep_image R S X0
  define at h3
  define
  obtain (n : Nat) (h7 : x1 âˆˆ rep_common_image R S X0 n) from h3
  apply Exists.intro (n + 1)  --Goal : x2 âˆˆ rep_common_image R S X0 (n + 1)
  rewrite [rep_common_image_step]
  apply Exists.intro x1
    --Goal : x1 âˆˆ rep_common_image R S X0 n âˆ§ âˆƒ (y : V), R x1 y âˆ§ S x2 y
  apply And.intro h7
  show âˆƒ (y : V), R x1 y âˆ§ S x2 y from Exists.intro y (And.intro h4 h6)
  done","lemma csb_cri_of_cri
    {U V : Type} {R S : Rel U V} {X0 : Set U} {x1 x2 : U} {y : V}
    (h1 : csb_match R S X0 x1 y) (h2 : csb_match R S X0 x2 y)
    (h3 : x1 âˆˆ cum_rep_image R S X0) : x2 âˆˆ cum_rep_image R S X0  := by
  have hR : R x1 y := csb_match_cri h1 h3
  by_contra hX2
  contradict hX2
  obtain âŸ¨n, hnâŸ© := h3
  use n + 1
  rw [rep_common_image_step]
  exact âŸ¨x1, hn, _, hR, csb_match_not_cri h2 hX2âŸ©",230.49016094207764
